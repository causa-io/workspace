// This file was generated by the Causa command line. Do not edit it manually.

import { AllowMissing } from '../validation/index.js';
import { IsArray, IsInt, IsObject, IsString } from 'class-validator';

/**
 * Generic configuration for secrets.
 */
export class CausaSecrets {
  constructor(init: CausaSecrets) {
    Object.assign(this, init);
  }

  /**
   * The ID of the default backend to use when fetching secrets, if none is specified.
   */
  @AllowMissing()
  @IsString()
  readonly defaultBackend?: string;
  [property: string]: any;
}

/**
 * Configuration for the CLI itself.
 */
export class Causa {
  constructor(init: Causa) {
    Object.assign(this, init);
  }

  /**
   * The modules to load when the CLI runs.
   * Keys are the names of the modules (npm packages) and values are semver versions.
   * Local paths are also accepted. Relative paths will be resolved from the workspace root.
   */
  @AllowMissing()
  @IsObject()
  readonly modules?: { [key: string]: string };

  /**
   * Generic configuration for secrets.
   */
  @AllowMissing()
  readonly secrets?: CausaSecrets;
  [property: string]: any;
}

export class EnvironmentConfiguration {
  constructor(init: EnvironmentConfiguration) {
    Object.assign(this, init);
  }

  /**
   * Additional configuration that will be merged with the main one before running operations against the
   * environment.
   */
  @AllowMissing()
  @IsObject()
  readonly configuration?: { [key: string]: any };

  /**
   * The full displayable name for the environment.
   */
  @AllowMissing()
  @IsString()
  readonly name?: string;
  [property: string]: any;
}

/**
 * Information about the project within the workspace.
 * The file defining `project.name` should be located at the root of the project.
 * Its location will be used to determine the project path.
 */
export class Project {
  constructor(init: Project) {
    Object.assign(this, init);
  }

  /**
   * A list of glob patterns, relative to the workspace root, that match files or directories that are also part
   * of the project.
   * This is only needed for files or directories that are not part of the project root.
   * This is a hint to various processes (e.g. project changes detection, linting, etc.) that they should also
   * consider those files and directories when running operations against the project.
   */
  @AllowMissing()
  @IsArray()
  @IsString({ each: true })
  readonly externalFiles?: string[];

  /**
   * The programming language for the project.
   */
  @AllowMissing()
  @IsString()
  readonly language?: string;

  /**
   * The name of the project.
   */
  @AllowMissing()
  @IsString()
  readonly name?: string;

  /**
   * The type of project.
   */
  @AllowMissing()
  @IsString()
  readonly type?: string;
  [property: string]: any;
}

export class SecretConfiguration {
  constructor(init: SecretConfiguration) {
    Object.assign(this, init);
  }

  /**
   * The ID of the backend to use when fetching the secret.
   * Defaults to `causa.secrets.defaultBackend`.
   */
  @AllowMissing()
  @IsString()
  readonly backend?: string;
  [property: string]: any;
}

/**
 * Information about the workspace.
 * The file defining `workspace.name` should be located at the root of the workspace.
 * Its location will be used to determine the root path.
 */
export class Workspace {
  constructor(init: Workspace) {
    Object.assign(this, init);
  }

  /**
   * A description for the workspace.
   */
  @AllowMissing()
  @IsString()
  readonly description?: string;

  /**
   * The name of the workspace.
   * Depending of the size, it could be the name of the company, or the overarching project.
   */
  @AllowMissing()
  @IsString()
  readonly name?: string;
  [property: string]: any;
}

/**
 * The schema for core elements of the configuration.
 */
export class BaseConfigurationSchema {
  constructor(init: BaseConfigurationSchema) {
    Object.assign(this, init);
  }

  /**
   * Configuration for the CLI itself.
   */
  @AllowMissing()
  readonly causa?: Causa;

  /**
   * A map where keys are environment IDs and values provide details about each environment.
   */
  @AllowMissing()
  @IsObject()
  readonly environments?: { [key: string]: EnvironmentConfiguration };

  /**
   * Information about the project within the workspace.
   * The file defining `project.name` should be located at the root of the project.
   * Its location will be used to determine the project path.
   */
  @AllowMissing()
  readonly project?: Project;

  /**
   * A map where keys are secret IDs and values are the corresponding configurations.
   * The configuration may contain fields that are specific to the referenced backend.
   */
  @AllowMissing()
  @IsObject()
  readonly secrets?: { [key: string]: SecretConfiguration };

  /**
   * The version number for the used configuration schema.
   */
  @IsInt()
  readonly version!: number;

  /**
   * Information about the workspace.
   * The file defining `workspace.name` should be located at the root of the workspace.
   * Its location will be used to determine the root path.
   */
  @AllowMissing()
  readonly workspace?: Workspace;
  [property: string]: any;
}
